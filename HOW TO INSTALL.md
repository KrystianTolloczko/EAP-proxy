EAP Proxy w/ AT&T Fiber (tested for over 1 year without any issues. Immune to reboots, config changes etc.)
Inspired by https://github.com/jaysoffian/eap_proxy
Modified by K.T.

##################################################################################
#PREPARATION
##################################################################################

1. Buy from amazon one of EdgeMax routers. I personally use EdgeRouter-12 for stable VPNs connections but cheaper ER-X would do the work as well.

2. Modify eap_proxy.sh and adjust IF_WAN (this should go to AT&T ONT box) & IF_ROUTER (this is your AT&T modem).
My config use the following connections (you can adjust this part based on your own preference):
Eth0-7 => LAN
Eth8 => ONT/ATT Modem
Eth9 => WAN

Do not modify eap_proxy.py!!

3. Some things to find out for later use:
WHAT IS THE MAC ADDRESS of ATT MODEM? -check label on the device or see if in web admin
WHAT IS DUID FROM ATT MODEM? -can be found by sniffing IPv6 packets using Wireshark. Optionally can be also generated by DUID generators.

4. Copy eap_proxy.sh to /config/scripts/post-config.d/eap_proxy.sh
Copy eap_proxy.py to /config/scripts/eap_proxy.py 
Change permitions to these files

EXAMPLE:
ssh ubnt@192.168.1.1 mkdir -p /config/scripts /config/scripts/post-config.d
scp /Downloads/EAP_PROXY/eap_proxy.py ubnt@192.168.1.1:/config/scripts/
scp /Downloads/EAP_PROXY/eap_proxy.sh ubnt@192.168.1.1:/config/scripts/post-config.d/
ssh ubnt@192.168.1.1 chown ubnt:vyattacfg /config/scripts/eap_proxy.py
ssh ubnt@192.168.1.1 chown ubnt:vyattacfg /config/scripts/post-config.d/eap_proxy.sh
ssh ubnt@192.168.1.1 chmod 755 /config/scripts/eap_proxy.py
ssh ubnt@192.168.1.1 chmod 755 /config/scripts/post-config.d/eap_proxy.sh

5. Now reboot and run basic config   

##################################################################################
#BASIC EDGEMAX CONFIG FOR EAP PROXY
##################################################################################

ssh ubnt@192.168.1.1
configure

set interfaces ethernet eth9 description 'WAN'
set interfaces ethernet eth9 duplex auto
set interfaces ethernet eth9 firewall in name WAN_IN
set interfaces ethernet eth9 firewall local name WAN_LOCAL
set interfaces ethernet eth9 speed auto
set interfaces ethernet eth9 vif 0 address dhcp
set interfaces ethernet eth9 vif 0 description 'WAN VLAN 0'
set interfaces ethernet eth9 vif 0 dhcp-options default-route update
set interfaces ethernet eth9 vif 0 dhcp-options default-route-distance 210
set interfaces ethernet eth9 vif 0 dhcp-options name-server update
set interfaces ethernet eth9 vif 0 firewall in name WAN_IN
set interfaces ethernet eth9 vif 0 firewall local name WAN_LOCAL
set interfaces ethernet eth9 vif 0 mac '(MAC ADDRESS OF ATT MODEM)'
set interfaces ethernet eth10 address 192.168.1.1/24
set interfaces ethernet eth10 description 'LAN'
set interfaces ethernet eth10 duplex auto
set interfaces ethernet eth10 speed auto
set interfaces ethernet eth8 description 'ONT/ATT Modem'
set interfaces ethernet eth8 duplex auto
set interfaces ethernet eth8 speed auto
set service nat rule 5010 description 'masquerade for WAN'
set service nat rule 5010 outbound-interface eth9.0
set service nat rule 5010 protocol all
set service nat rule 5010 type masquerade
set system offload ipv4 forwarding enable
set system offload ipv4 vlan enable

set interfaces ethernet eth9 vif 0 dhcpv6-pd duid '(DUID FROM ATT MODEM)'
set interfaces ethernet eth9 vif 0 dhcpv6-pd pd 1 interface eth10 host-address '::1'
set interfaces ethernet eth9 vif 0 dhcpv6-pd pd 1 interface eth10 no-dns
set interfaces ethernet eth9 vif 0 dhcpv6-pd pd 1 interface eth10 prefix-id ':0'
set interfaces ethernet eth9 vif 0 dhcpv6-pd pd 1 prefix-length 60
set interfaces ethernet eth9 vif 0 dhcpv6-pd prefix-only
set interfaces ethernet eth9 vif 0 dhcpv6-pd rapid-commit disable
set interfaces ethernet eth9 vif 0 firewall in ipv6-name WANv6_IN
set interfaces ethernet eth9 vif 0 firewall local ipv6-name WANv6_LOCAL
set interfaces ethernet eth9 vif 0 ipv6 dup-addr-detect-transmits 1
set service dns forwarding options enable-ra
set service dns forwarding options 'dhcp-range=::1,constructor:eth10,ra-names,86400'
set system offload ipv6 forwarding enable
set system offload ipv6 vlan enable

commit ; save

#Firewall rules IPv4 
set firewall name WAN_IN default-action drop
set firewall name WAN_IN description 'WAN to internal'
set firewall name WAN_IN rule 10 action accept
set firewall name WAN_IN rule 10 description 'Allow established/related'
set firewall name WAN_IN rule 10 state established enable
set firewall name WAN_IN rule 10 state related enable
set firewall name WAN_IN rule 20 action drop
set firewall name WAN_IN rule 20 description 'Drop invalid state'
set firewall name WAN_IN rule 20 state invalid enable
set interfaces ethernet eth9 eth9.0 firewall in name WAN_IN
set firewall name WAN_LOCAL default-action drop
set firewall name WAN_LOCAL description 'WAN to router'
set firewall name WAN_LOCAL rule 10 action accept
set firewall name WAN_LOCAL rule 10 description 'Allow established/related'
set firewall name WAN_LOCAL rule 10 state established enable
set firewall name WAN_LOCAL rule 10 state related enable
set firewall name WAN_LOCAL rule 20 action drop
set firewall name WAN_LOCAL rule 20 description 'Drop invalid state'
set firewall name WAN_LOCAL rule 20 state invalid enable
set interfaces ethernet eth9 eth9.0 firewall local name WAN_LOCAL

#Firewall rules IPv6 
set firewall ipv6-name WANv6_IN default-action drop
set firewall ipv6-name WANv6_IN description 'WAN to internal'
set firewall ipv6-name WANv6_IN rule 10 action accept
set firewall ipv6-name WANv6_IN rule 10 description 'Allow established/related'
set firewall ipv6-name WANv6_IN rule 10 state established enable
set firewall ipv6-name WANv6_IN rule 10 state related enable
set firewall ipv6-name WANv6_IN rule 20 action drop
set firewall ipv6-name WANv6_IN rule 20 description 'Drop invalid state'
set firewall ipv6-name WANv6_IN rule 20 log enable
set firewall ipv6-name WANv6_IN rule 20 state invalid enable
set firewall ipv6-name WANv6_IN rule 30 action accept
set firewall ipv6-name WANv6_IN rule 30 description 'Allow ICMPv6 destination-unreachable'
set firewall ipv6-name WANv6_IN rule 30 icmpv6 type destination-unreachable
set firewall ipv6-name WANv6_IN rule 30 protocol icmpv6
set firewall ipv6-name WANv6_IN rule 31 action accept
set firewall ipv6-name WANv6_IN rule 31 description 'Allow ICMPv6 packet-too-big'
set firewall ipv6-name WANv6_IN rule 31 icmpv6 type packet-too-big
set firewall ipv6-name WANv6_IN rule 31 protocol icmpv6
set firewall ipv6-name WANv6_IN rule 32 action accept
set firewall ipv6-name WANv6_IN rule 32 description 'Allow ICMPv6 time-exceeded'
set firewall ipv6-name WANv6_IN rule 32 icmpv6 type time-exceeded
set firewall ipv6-name WANv6_IN rule 32 protocol icmpv6
set firewall ipv6-name WANv6_IN rule 33 action accept
set firewall ipv6-name WANv6_IN rule 33 description 'Allow ICMPv6 parameter-problem'
set firewall ipv6-name WANv6_IN rule 33 icmpv6 type parameter-problem
set firewall ipv6-name WANv6_IN rule 33 protocol icmpv6
set firewall ipv6-name WANv6_IN rule 34 action accept
set firewall ipv6-name WANv6_IN rule 34 description 'Allow ICMPv6 echo-request'
set firewall ipv6-name WANv6_IN rule 34 icmpv6 type echo-request
set firewall ipv6-name WANv6_IN rule 34 limit burst 1
set firewall ipv6-name WANv6_IN rule 34 limit rate 600/minute
set firewall ipv6-name WANv6_IN rule 34 protocol icmpv6
set firewall ipv6-name WANv6_IN rule 35 action accept
set firewall ipv6-name WANv6_IN rule 35 description 'Allow ICMPv6 echo-reply'
set firewall ipv6-name WANv6_IN rule 35 icmpv6 type echo-reply
set firewall ipv6-name WANv6_IN rule 35 limit burst 1
set firewall ipv6-name WANv6_IN rule 35 limit rate 600/minute
set firewall ipv6-name WANv6_IN rule 35 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL default-action drop
set firewall ipv6-name WANv6_LOCAL description 'WAN to router'
set firewall ipv6-name WANv6_LOCAL rule 10 action accept
set firewall ipv6-name WANv6_LOCAL rule 10 description 'Allow established/related'
set firewall ipv6-name WANv6_LOCAL rule 10 state established enable
set firewall ipv6-name WANv6_LOCAL rule 10 state related enable
set firewall ipv6-name WANv6_LOCAL rule 20 action drop
set firewall ipv6-name WANv6_LOCAL rule 20 description 'Drop invalid state'
set firewall ipv6-name WANv6_LOCAL rule 20 state invalid enable
set firewall ipv6-name WANv6_LOCAL rule 30 action accept
set firewall ipv6-name WANv6_LOCAL rule 30 description 'Allow ICMPv6 destination-unreachable'
set firewall ipv6-name WANv6_LOCAL rule 30 icmpv6 type destination-unreachable
set firewall ipv6-name WANv6_LOCAL rule 30 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 31 action accept
set firewall ipv6-name WANv6_LOCAL rule 31 description 'Allow ICMPv6 packet-too-big'
set firewall ipv6-name WANv6_LOCAL rule 31 icmpv6 type packet-too-big
set firewall ipv6-name WANv6_LOCAL rule 31 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 32 action accept
set firewall ipv6-name WANv6_LOCAL rule 32 description 'Allow ICMPv6 time-exceeded'
set firewall ipv6-name WANv6_LOCAL rule 32 icmpv6 type time-exceeded
set firewall ipv6-name WANv6_LOCAL rule 32 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 33 action accept
set firewall ipv6-name WANv6_LOCAL rule 33 description 'Allow ICMPv6 parameter-problem'
set firewall ipv6-name WANv6_LOCAL rule 33 icmpv6 type parameter-problem
set firewall ipv6-name WANv6_LOCAL rule 33 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 34 action accept
set firewall ipv6-name WANv6_LOCAL rule 34 description 'Allow ICMPv6 echo-request'
set firewall ipv6-name WANv6_LOCAL rule 34 icmpv6 type echo-request
set firewall ipv6-name WANv6_LOCAL rule 34 limit burst 5
set firewall ipv6-name WANv6_LOCAL rule 34 limit rate 5/second
set firewall ipv6-name WANv6_LOCAL rule 34 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 35 action accept
set firewall ipv6-name WANv6_LOCAL rule 35 description 'Allow ICMPv6 echo-reply'
set firewall ipv6-name WANv6_LOCAL rule 35 icmpv6 type echo-reply
set firewall ipv6-name WANv6_LOCAL rule 35 limit burst 5
set firewall ipv6-name WANv6_LOCAL rule 35 limit rate 5/second
set firewall ipv6-name WANv6_LOCAL rule 35 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 36 action accept
set firewall ipv6-name WANv6_LOCAL rule 36 description 'Allow ICMPv6 Router Advertisement'
set firewall ipv6-name WANv6_LOCAL rule 36 icmpv6 type router-advertisement
set firewall ipv6-name WANv6_LOCAL rule 36 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 37 action accept
set firewall ipv6-name WANv6_LOCAL rule 37 description 'Allow ICMPv6 Neighbor Solicitation'
set firewall ipv6-name WANv6_LOCAL rule 37 icmpv6 type neighbor-solicitation
set firewall ipv6-name WANv6_LOCAL rule 37 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 38 action accept
set firewall ipv6-name WANv6_LOCAL rule 38 description 'Allow ICMPv6 Neighbor Advertisement'
set firewall ipv6-name WANv6_LOCAL rule 38 icmpv6 type neighbor-advertisement
set firewall ipv6-name WANv6_LOCAL rule 38 protocol icmpv6
set firewall ipv6-name WANv6_LOCAL rule 50 action accept
set firewall ipv6-name WANv6_LOCAL rule 50 description 'Allow DHCPv6'
set firewall ipv6-name WANv6_LOCAL rule 50 destination port 546
set firewall ipv6-name WANv6_LOCAL rule 50 protocol udp
set firewall ipv6-name WANv6_LOCAL rule 50 source port 547
set firewall ipv6-receive-redirects disable
set firewall ipv6-src-route disable

commit ; save

After reboot EAP should work as gold !!!!!!!!! :)